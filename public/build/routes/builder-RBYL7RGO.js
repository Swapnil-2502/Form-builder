import{b as ae,c as K,e as en,f as tn,g as nn,h as rn,i as on,j as ft,k as sn,l as an,m as ln,n as cn,o as dn,p as un,q as fn,r as pn,s as gn,t as hn,w as ye}from"/build/_shared/chunk-RS4IXP6A.js";import{c as B,d as Xe,e as wr,f as se}from"/build/_shared/chunk-B3PYWMIY.js";var c=B(Xe()),Ie=B(wr());var T=B(Xe());function bn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,T.useMemo)(()=>r=>{t.forEach(o=>o(r))},t)}var Ze=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Ce(e){let t=Object.prototype.toString.call(e);return t==="[object Window]"||t==="[object global]"}function pt(e){return"nodeType"in e}function $(e){var t,n;return e?Ce(e)?e:pt(e)&&(t=(n=e.ownerDocument)==null?void 0:n.defaultView)!=null?t:window:window}function gt(e){let{Document:t}=$(e);return e instanceof t}function $e(e){return Ce(e)?!1:e instanceof $(e).HTMLElement}function kt(e){return e instanceof $(e).SVGElement}function De(e){return e?Ce(e)?e.document:pt(e)?gt(e)?e:$e(e)||kt(e)?e.ownerDocument:document:document:document}var G=Ze?T.useLayoutEffect:T.useEffect;function ht(e){let t=(0,T.useRef)(e);return G(()=>{t.current=e}),(0,T.useCallback)(function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t.current==null?void 0:t.current(...r)},[])}function mn(){let e=(0,T.useRef)(null),t=(0,T.useCallback)((r,o)=>{e.current=setInterval(r,o)},[]),n=(0,T.useCallback)(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[t,n]}function Ue(e,t){t===void 0&&(t=[e]);let n=(0,T.useRef)(e);return G(()=>{n.current!==e&&(n.current=e)},t),n}function Ye(e,t){let n=(0,T.useRef)();return(0,T.useMemo)(()=>{let r=e(n.current);return n.current=r,r},[...t])}function et(e){let t=ht(e),n=(0,T.useRef)(null),r=(0,T.useCallback)(o=>{o!==n.current&&t?.(o,n.current),n.current=o},[]);return[n,r]}function vt(e){let t=(0,T.useRef)();return(0,T.useEffect)(()=>{t.current=e},[e]),t.current}var Mt={};function Re(e,t){return(0,T.useMemo)(()=>{if(t)return t;let n=Mt[e]==null?0:Mt[e]+1;return Mt[e]=n,e+"-"+n},[e,t])}function yn(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return r.reduce((i,s)=>{let a=Object.entries(s);for(let[l,d]of a){let f=i[l];f!=null&&(i[l]=f+e*d)}return i},{...t})}}var Ee=yn(1),je=yn(-1);function xr(e){return"clientX"in e&&"clientY"in e}function tt(e){if(!e)return!1;let{KeyboardEvent:t}=$(e.target);return t&&e instanceof t}function Sr(e){if(!e)return!1;let{TouchEvent:t}=$(e.target);return t&&e instanceof t}function bt(e){if(Sr(e)){if(e.touches&&e.touches.length){let{clientX:t,clientY:n}=e.touches[0];return{x:t,y:n}}else if(e.changedTouches&&e.changedTouches.length){let{clientX:t,clientY:n}=e.changedTouches[0];return{x:t,y:n}}}return xr(e)?{x:e.clientX,y:e.clientY}:null}var we=Object.freeze({Translate:{toString(e){if(!e)return;let{x:t,y:n}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;let{scaleX:t,scaleY:n}=e;return"scaleX("+t+") scaleY("+n+")"}},Transform:{toString(e){if(e)return[we.Translate.toString(e),we.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:n,easing:r}=e;return t+" "+n+"ms "+r}}}),vn="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function wn(e){return e.matches(vn)?e:e.querySelector(vn)}var Ne=B(Xe()),Cr={display:"none"};function xn(e){let{id:t,value:n}=e;return Ne.default.createElement("div",{id:t,style:Cr},n)}function Sn(e){let{id:t,announcement:n,ariaLiveType:r="assertive"}=e,o={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return Ne.default.createElement("div",{id:t,style:o,role:"status","aria-live":r,"aria-atomic":!0},n)}function Cn(){let[e,t]=(0,Ne.useState)("");return{announce:(0,Ne.useCallback)(r=>{r!=null&&t(r)},[]),announcement:e}}var Fn=(0,c.createContext)(null);function Dr(e){let t=(0,c.useContext)(Fn);(0,c.useEffect)(()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(e)},[e,t])}function Rr(){let[e]=(0,c.useState)(()=>new Set),t=(0,c.useCallback)(r=>(e.add(r),()=>e.delete(r)),[e]);return[(0,c.useCallback)(r=>{let{type:o,event:i}=r;e.forEach(s=>{var a;return(a=s[o])==null?void 0:a.call(s,i)})},[e]),t]}var Er={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},Nr={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was moved over droppable area "+n.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was dropped over droppable area "+n.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function Ir(e){let{announcements:t=Nr,container:n,hiddenTextDescribedById:r,screenReaderInstructions:o=Er}=e,{announce:i,announcement:s}=Cn(),a=Re("DndLiveRegion"),[l,d]=(0,c.useState)(!1);if((0,c.useEffect)(()=>{d(!0)},[]),Dr((0,c.useMemo)(()=>({onDragStart(u){let{active:h}=u;i(t.onDragStart({active:h}))},onDragMove(u){let{active:h,over:p}=u;t.onDragMove&&i(t.onDragMove({active:h,over:p}))},onDragOver(u){let{active:h,over:p}=u;i(t.onDragOver({active:h,over:p}))},onDragEnd(u){let{active:h,over:p}=u;i(t.onDragEnd({active:h,over:p}))},onDragCancel(u){let{active:h,over:p}=u;i(t.onDragCancel({active:h,over:p}))}}),[i,t])),!l)return null;let f=c.default.createElement(c.default.Fragment,null,c.default.createElement(xn,{id:r,value:o.draggable}),c.default.createElement(Sn,{id:a,announcement:s}));return n?(0,Ie.createPortal)(f,n):f}var L;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})(L||(L={}));function yt(){}function Pn(e,t){return(0,c.useMemo)(()=>({sensor:e,options:t??{}}),[e,t])}function zn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,c.useMemo)(()=>[...t].filter(r=>r!=null),[...t])}var ee=Object.freeze({x:0,y:0});function Ar(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function Tr(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return n-r}function Or(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return r-n}function Bn(e,t){if(!e||e.length===0)return null;let[n]=e;return t?n[t]:n}function Dn(e,t,n){return t===void 0&&(t=e.left),n===void 0&&(n=e.top),{x:t+e.width*.5,y:n+e.height*.5}}var Xn=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e,o=Dn(t,t.left,t.top),i=[];for(let s of r){let{id:a}=s,l=n.get(a);if(l){let d=Ar(Dn(l),o);i.push({id:a,data:{droppableContainer:s,value:d}})}}return i.sort(Tr)};function Mr(e,t){let n=Math.max(t.top,e.top),r=Math.max(t.left,e.left),o=Math.min(t.left+t.width,e.left+e.width),i=Math.min(t.top+t.height,e.top+e.height),s=o-r,a=i-n;if(r<o&&n<i){let l=t.width*t.height,d=e.width*e.height,f=s*a,u=f/(l+d-f);return Number(u.toFixed(4))}return 0}var kr=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e,o=[];for(let i of r){let{id:s}=i,a=n.get(s);if(a){let l=Mr(a,t);l>0&&o.push({id:s,data:{droppableContainer:i,value:l}})}}return o.sort(Or)};function Lr(e,t,n){return{...e,scaleX:t&&n?t.width/n.width:1,scaleY:t&&n?t.height/n.height:1}}function $n(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:ee}function Fr(e){return function(n){for(var r=arguments.length,o=new Array(r>1?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];return o.reduce((s,a)=>({...s,top:s.top+e*a.y,bottom:s.bottom+e*a.y,left:s.left+e*a.x,right:s.right+e*a.x}),{...n})}}var Pr=Fr(1);function zr(e){if(e.startsWith("matrix3d(")){let t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}else if(e.startsWith("matrix(")){let t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}function Br(e,t,n){let r=zr(t);if(!r)return e;let{scaleX:o,scaleY:i,x:s,y:a}=r,l=e.left-s-(1-o)*parseFloat(n),d=e.top-a-(1-i)*parseFloat(n.slice(n.indexOf(" ")+1)),f=o?e.width/o:e.width,u=i?e.height/i:e.height;return{width:f,height:u,top:d,right:l+f,bottom:d+u,left:l}}var Xr={ignoreTransform:!1};function Oe(e,t){t===void 0&&(t=Xr);let n=e.getBoundingClientRect();if(t.ignoreTransform){let{transform:d,transformOrigin:f}=$(e).getComputedStyle(e);d&&(n=Br(n,d,f))}let{top:r,left:o,width:i,height:s,bottom:a,right:l}=n;return{top:r,left:o,width:i,height:s,bottom:a,right:l}}function Rn(e){return Oe(e,{ignoreTransform:!0})}function $r(e){let t=e.innerWidth,n=e.innerHeight;return{top:0,left:0,right:t,bottom:n,width:t,height:n}}function Ur(e,t){return t===void 0&&(t=$(e).getComputedStyle(e)),t.position==="fixed"}function Yr(e,t){t===void 0&&(t=$(e).getComputedStyle(e));let n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(o=>{let i=t[o];return typeof i=="string"?n.test(i):!1})}function St(e,t){let n=[];function r(o){if(t!=null&&n.length>=t||!o)return n;if(gt(o)&&o.scrollingElement!=null&&!n.includes(o.scrollingElement))return n.push(o.scrollingElement),n;if(!$e(o)||kt(o)||n.includes(o))return n;let i=$(e).getComputedStyle(o);return o!==e&&Yr(o,i)&&n.push(o),Ur(o,i)?n:r(o.parentNode)}return e?r(e):n}function Un(e){let[t]=St(e,1);return t??null}function Lt(e){return!Ze||!e?null:Ce(e)?e:pt(e)?gt(e)||e===De(e).scrollingElement?window:$e(e)?e:null:null}function Yn(e){return Ce(e)?e.scrollX:e.scrollLeft}function jn(e){return Ce(e)?e.scrollY:e.scrollTop}function zt(e){return{x:Yn(e),y:jn(e)}}var P;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})(P||(P={}));function Wn(e){return!Ze||!e?!1:e===document.scrollingElement}function Hn(e){let t={x:0,y:0},n=Wn(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},r={x:e.scrollWidth-n.width,y:e.scrollHeight-n.height},o=e.scrollTop<=t.y,i=e.scrollLeft<=t.x,s=e.scrollTop>=r.y,a=e.scrollLeft>=r.x;return{isTop:o,isLeft:i,isBottom:s,isRight:a,maxScroll:r,minScroll:t}}var jr={x:.2,y:.2};function Wr(e,t,n,r,o){let{top:i,left:s,right:a,bottom:l}=n;r===void 0&&(r=10),o===void 0&&(o=jr);let{isTop:d,isBottom:f,isLeft:u,isRight:h}=Hn(e),p={x:0,y:0},R={x:0,y:0},g={height:t.height*o.y,width:t.width*o.x};return!d&&i<=t.top+g.height?(p.y=P.Backward,R.y=r*Math.abs((t.top+g.height-i)/g.height)):!f&&l>=t.bottom-g.height&&(p.y=P.Forward,R.y=r*Math.abs((t.bottom-g.height-l)/g.height)),!h&&a>=t.right-g.width?(p.x=P.Forward,R.x=r*Math.abs((t.right-g.width-a)/g.width)):!u&&s<=t.left+g.width&&(p.x=P.Backward,R.x=r*Math.abs((t.left+g.width-s)/g.width)),{direction:p,speed:R}}function Hr(e){if(e===document.scrollingElement){let{innerWidth:i,innerHeight:s}=window;return{top:0,left:0,right:i,bottom:s,width:i,height:s}}let{top:t,left:n,right:r,bottom:o}=e.getBoundingClientRect();return{top:t,left:n,right:r,bottom:o,width:e.clientWidth,height:e.clientHeight}}function Kn(e){return e.reduce((t,n)=>Ee(t,zt(n)),ee)}function Kr(e){return e.reduce((t,n)=>t+Yn(n),0)}function qr(e){return e.reduce((t,n)=>t+jn(n),0)}function Vr(e,t){if(t===void 0&&(t=Oe),!e)return;let{top:n,left:r,bottom:o,right:i}=t(e);Un(e)&&(o<=0||i<=0||n>=window.innerHeight||r>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}var Jr=[["x",["left","right"],Kr],["y",["top","bottom"],qr]],rt=class{constructor(t,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;let r=St(n),o=Kn(r);this.rect={...t},this.width=t.width,this.height=t.height;for(let[i,s,a]of Jr)for(let l of s)Object.defineProperty(this,l,{get:()=>{let d=a(r),f=o[i]-d;return this.rect[l]+f},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}},Ae=class{constructor(t){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var r;return(r=this.target)==null?void 0:r.removeEventListener(...n)})},this.target=t}add(t,n,r){var o;(o=this.target)==null||o.addEventListener(t,n,r),this.listeners.push([t,n,r])}};function Gr(e){let{EventTarget:t}=$(e);return e instanceof t?e:De(e)}function Ft(e,t){let n=Math.abs(e.x),r=Math.abs(e.y);return typeof t=="number"?Math.sqrt(n**2+r**2)>t:"x"in t&&"y"in t?n>t.x&&r>t.y:"x"in t?n>t.x:"y"in t?r>t.y:!1}var _;(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})(_||(_={}));function En(e){e.preventDefault()}function _r(e){e.stopPropagation()}var C;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter",e.Tab="Tab"})(C||(C={}));var qn={start:[C.Space,C.Enter],cancel:[C.Esc],end:[C.Space,C.Enter,C.Tab]},Qr=(e,t)=>{let{currentCoordinates:n}=t;switch(e.code){case C.Right:return{...n,x:n.x+25};case C.Left:return{...n,x:n.x-25};case C.Down:return{...n,y:n.y+25};case C.Up:return{...n,y:n.y-25}}},wt=class{constructor(t){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=t;let{event:{target:n}}=t;this.props=t,this.listeners=new Ae(De(n)),this.windowListeners=new Ae($(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(_.Resize,this.handleCancel),this.windowListeners.add(_.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(_.Keydown,this.handleKeyDown))}handleStart(){let{activeNode:t,onStart:n}=this.props,r=t.node.current;r&&Vr(r),n(ee)}handleKeyDown(t){if(tt(t)){let{active:n,context:r,options:o}=this.props,{keyboardCodes:i=qn,coordinateGetter:s=Qr,scrollBehavior:a="smooth"}=o,{code:l}=t;if(i.end.includes(l)){this.handleEnd(t);return}if(i.cancel.includes(l)){this.handleCancel(t);return}let{collisionRect:d}=r.current,f=d?{x:d.left,y:d.top}:ee;this.referenceCoordinates||(this.referenceCoordinates=f);let u=s(t,{active:n,context:r.current,currentCoordinates:f});if(u){let h=je(u,f),p={x:0,y:0},{scrollableAncestors:R}=r.current;for(let g of R){let v=t.code,{isTop:y,isRight:w,isLeft:m,isBottom:D,maxScroll:b,minScroll:E}=Hn(g),S=Hr(g),x={x:Math.min(v===C.Right?S.right-S.width/2:S.right,Math.max(v===C.Right?S.left:S.left+S.width/2,u.x)),y:Math.min(v===C.Down?S.bottom-S.height/2:S.bottom,Math.max(v===C.Down?S.top:S.top+S.height/2,u.y))},k=v===C.Right&&!w||v===C.Left&&!m,F=v===C.Down&&!D||v===C.Up&&!y;if(k&&x.x!==u.x){let I=g.scrollLeft+h.x,Q=v===C.Right&&I<=b.x||v===C.Left&&I>=E.x;if(Q&&!h.y){g.scrollTo({left:I,behavior:a});return}Q?p.x=g.scrollLeft-I:p.x=v===C.Right?g.scrollLeft-b.x:g.scrollLeft-E.x,p.x&&g.scrollBy({left:-p.x,behavior:a});break}else if(F&&x.y!==u.y){let I=g.scrollTop+h.y,Q=v===C.Down&&I<=b.y||v===C.Up&&I>=E.y;if(Q&&!h.x){g.scrollTo({top:I,behavior:a});return}Q?p.y=g.scrollTop-I:p.y=v===C.Down?g.scrollTop-b.y:g.scrollTop-E.y,p.y&&g.scrollBy({top:-p.y,behavior:a});break}}this.handleMove(t,Ee(je(u,this.referenceCoordinates),p))}}}handleMove(t,n){let{onMove:r}=this.props;t.preventDefault(),r(n)}handleEnd(t){let{onEnd:n}=this.props;t.preventDefault(),this.detach(),n()}handleCancel(t){let{onCancel:n}=this.props;t.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}};wt.activators=[{eventName:"onKeyDown",handler:(e,t,n)=>{let{keyboardCodes:r=qn,onActivation:o}=t,{active:i}=n,{code:s}=e.nativeEvent;if(r.start.includes(s)){let a=i.activatorNode.current;return a&&e.target!==a?!1:(e.preventDefault(),o?.({event:e.nativeEvent}),!0)}return!1}}];function Nn(e){return Boolean(e&&"distance"in e)}function In(e){return Boolean(e&&"delay"in e)}var ot=class{constructor(t,n,r){var o;r===void 0&&(r=Gr(t.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=t,this.events=n;let{event:i}=t,{target:s}=i;this.props=t,this.events=n,this.document=De(s),this.documentListeners=new Ae(this.document),this.listeners=new Ae(r),this.windowListeners=new Ae($(s)),this.initialCoordinates=(o=bt(i))!=null?o:ee,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){let{events:t,props:{options:{activationConstraint:n,bypassActivationConstraint:r}}}=this;if(this.listeners.add(t.move.name,this.handleMove,{passive:!1}),this.listeners.add(t.end.name,this.handleEnd),t.cancel&&this.listeners.add(t.cancel.name,this.handleCancel),this.windowListeners.add(_.Resize,this.handleCancel),this.windowListeners.add(_.DragStart,En),this.windowListeners.add(_.VisibilityChange,this.handleCancel),this.windowListeners.add(_.ContextMenu,En),this.documentListeners.add(_.Keydown,this.handleKeydown),n){if(r!=null&&r({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(In(n)){this.timeoutId=setTimeout(this.handleStart,n.delay),this.handlePending(n);return}if(Nn(n)){this.handlePending(n);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(t,n){let{active:r,onPending:o}=this.props;o(r,t,this.initialCoordinates,n)}handleStart(){let{initialCoordinates:t}=this,{onStart:n}=this.props;t&&(this.activated=!0,this.documentListeners.add(_.Click,_r,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(_.SelectionChange,this.removeTextSelection),n(t))}handleMove(t){var n;let{activated:r,initialCoordinates:o,props:i}=this,{onMove:s,options:{activationConstraint:a}}=i;if(!o)return;let l=(n=bt(t))!=null?n:ee,d=je(o,l);if(!r&&a){if(Nn(a)){if(a.tolerance!=null&&Ft(d,a.tolerance))return this.handleCancel();if(Ft(d,a.distance))return this.handleStart()}if(In(a)&&Ft(d,a.tolerance))return this.handleCancel();this.handlePending(a,d);return}t.cancelable&&t.preventDefault(),s(l)}handleEnd(){let{onAbort:t,onEnd:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleCancel(){let{onAbort:t,onCancel:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleKeydown(t){t.code===C.Esc&&this.handleCancel()}removeTextSelection(){var t;(t=this.document.getSelection())==null||t.removeAllRanges()}},Zr={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}},We=class extends ot{constructor(t){let{event:n}=t,r=De(n.target);super(t,Zr,r)}};We.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return!n.isPrimary||n.button!==0?!1:(r?.({event:n}),!0)}}];var eo={move:{name:"mousemove"},end:{name:"mouseup"}},Bt;(function(e){e[e.RightClick=2]="RightClick"})(Bt||(Bt={}));var Xt=class extends ot{constructor(t){super(t,eo,De(t.event.target))}};Xt.activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return n.button===Bt.RightClick?!1:(r?.({event:n}),!0)}}];var Pt={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}},$t=class extends ot{constructor(t){super(t,Pt)}static setup(){return window.addEventListener(Pt.move.name,t,{capture:!1,passive:!1}),function(){window.removeEventListener(Pt.move.name,t)};function t(){}}};$t.activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t,{touches:o}=n;return o.length>1?!1:(r?.({event:n}),!0)}}];var nt;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})(nt||(nt={}));var xt;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})(xt||(xt={}));function to(e){let{acceleration:t,activator:n=nt.Pointer,canScroll:r,draggingRect:o,enabled:i,interval:s=5,order:a=xt.TreeOrder,pointerCoordinates:l,scrollableAncestors:d,scrollableAncestorRects:f,delta:u,threshold:h}=e,p=ro({delta:u,disabled:!i}),[R,g]=mn(),v=(0,c.useRef)({x:0,y:0}),y=(0,c.useRef)({x:0,y:0}),w=(0,c.useMemo)(()=>{switch(n){case nt.Pointer:return l?{top:l.y,bottom:l.y,left:l.x,right:l.x}:null;case nt.DraggableRect:return o}},[n,o,l]),m=(0,c.useRef)(null),D=(0,c.useCallback)(()=>{let E=m.current;if(!E)return;let S=v.current.x*y.current.x,x=v.current.y*y.current.y;E.scrollBy(S,x)},[]),b=(0,c.useMemo)(()=>a===xt.TreeOrder?[...d].reverse():d,[a,d]);(0,c.useEffect)(()=>{if(!i||!d.length||!w){g();return}for(let E of b){if(r?.(E)===!1)continue;let S=d.indexOf(E),x=f[S];if(!x)continue;let{direction:k,speed:F}=Wr(E,x,w,t,h);for(let I of["x","y"])p[I][k[I]]||(F[I]=0,k[I]=0);if(F.x>0||F.y>0){g(),m.current=E,R(D,s),v.current=F,y.current=k;return}}v.current={x:0,y:0},y.current={x:0,y:0},g()},[t,D,r,g,i,s,JSON.stringify(w),JSON.stringify(p),R,d,b,f,JSON.stringify(h)])}var no={x:{[P.Backward]:!1,[P.Forward]:!1},y:{[P.Backward]:!1,[P.Forward]:!1}};function ro(e){let{delta:t,disabled:n}=e,r=vt(t);return Ye(o=>{if(n||!r||!o)return no;let i={x:Math.sign(t.x-r.x),y:Math.sign(t.y-r.y)};return{x:{[P.Backward]:o.x[P.Backward]||i.x===-1,[P.Forward]:o.x[P.Forward]||i.x===1},y:{[P.Backward]:o.y[P.Backward]||i.y===-1,[P.Forward]:o.y[P.Forward]||i.y===1}}},[n,t,r])}function oo(e,t){let n=t!=null?e.get(t):void 0,r=n?n.node.current:null;return Ye(o=>{var i;return t==null?null:(i=r??o)!=null?i:null},[r,t])}function io(e,t){return(0,c.useMemo)(()=>e.reduce((n,r)=>{let{sensor:o}=r,i=o.activators.map(s=>({eventName:s.eventName,handler:t(s.handler,r)}));return[...n,...i]},[]),[e,t])}var it;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(it||(it={}));var Ut;(function(e){e.Optimized="optimized"})(Ut||(Ut={}));var An=new Map;function so(e,t){let{dragging:n,dependencies:r,config:o}=t,[i,s]=(0,c.useState)(null),{frequency:a,measure:l,strategy:d}=o,f=(0,c.useRef)(e),u=v(),h=Ue(u),p=(0,c.useCallback)(function(y){y===void 0&&(y=[]),!h.current&&s(w=>w===null?y:w.concat(y.filter(m=>!w.includes(m))))},[h]),R=(0,c.useRef)(null),g=Ye(y=>{if(u&&!n)return An;if(!y||y===An||f.current!==e||i!=null){let w=new Map;for(let m of e){if(!m)continue;if(i&&i.length>0&&!i.includes(m.id)&&m.rect.current){w.set(m.id,m.rect.current);continue}let D=m.node.current,b=D?new rt(l(D),D):null;m.rect.current=b,b&&w.set(m.id,b)}return w}return y},[e,i,n,u,l]);return(0,c.useEffect)(()=>{f.current=e},[e]),(0,c.useEffect)(()=>{u||p()},[n,u]),(0,c.useEffect)(()=>{i&&i.length>0&&s(null)},[JSON.stringify(i)]),(0,c.useEffect)(()=>{u||typeof a!="number"||R.current!==null||(R.current=setTimeout(()=>{p(),R.current=null},a))},[a,u,p,...r]),{droppableRects:g,measureDroppableContainers:p,measuringScheduled:i!=null};function v(){switch(d){case it.Always:return!1;case it.BeforeDragging:return n;default:return!n}}}function Vn(e,t){return Ye(n=>e?n||(typeof t=="function"?t(e):e):null,[t,e])}function ao(e,t){return Vn(e,t)}function lo(e){let{callback:t,disabled:n}=e,r=ht(t),o=(0,c.useMemo)(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;let{MutationObserver:i}=window;return new i(r)},[r,n]);return(0,c.useEffect)(()=>()=>o?.disconnect(),[o]),o}function Ct(e){let{callback:t,disabled:n}=e,r=ht(t),o=(0,c.useMemo)(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;let{ResizeObserver:i}=window;return new i(r)},[n]);return(0,c.useEffect)(()=>()=>o?.disconnect(),[o]),o}function co(e){return new rt(Oe(e),e)}function Tn(e,t,n){t===void 0&&(t=co);let[r,o]=(0,c.useState)(null);function i(){o(l=>{if(!e)return null;if(e.isConnected===!1){var d;return(d=l??n)!=null?d:null}let f=t(e);return JSON.stringify(l)===JSON.stringify(f)?l:f})}let s=lo({callback(l){if(e)for(let d of l){let{type:f,target:u}=d;if(f==="childList"&&u instanceof HTMLElement&&u.contains(e)){i();break}}}}),a=Ct({callback:i});return G(()=>{i(),e?(a?.observe(e),s?.observe(document.body,{childList:!0,subtree:!0})):(a?.disconnect(),s?.disconnect())},[e]),r}function uo(e){let t=Vn(e);return $n(e,t)}var On=[];function fo(e){let t=(0,c.useRef)(e),n=Ye(r=>e?r&&r!==On&&e&&t.current&&e.parentNode===t.current.parentNode?r:St(e):On,[e]);return(0,c.useEffect)(()=>{t.current=e},[e]),n}function po(e){let[t,n]=(0,c.useState)(null),r=(0,c.useRef)(e),o=(0,c.useCallback)(i=>{let s=Lt(i.target);s&&n(a=>a?(a.set(s,zt(s)),new Map(a)):null)},[]);return(0,c.useEffect)(()=>{let i=r.current;if(e!==i){s(i);let a=e.map(l=>{let d=Lt(l);return d?(d.addEventListener("scroll",o,{passive:!0}),[d,zt(d)]):null}).filter(l=>l!=null);n(a.length?new Map(a):null),r.current=e}return()=>{s(e),s(i)};function s(a){a.forEach(l=>{let d=Lt(l);d?.removeEventListener("scroll",o)})}},[o,e]),(0,c.useMemo)(()=>e.length?t?Array.from(t.values()).reduce((i,s)=>Ee(i,s),ee):Kn(e):ee,[e,t])}function Mn(e,t){t===void 0&&(t=[]);let n=(0,c.useRef)(null);return(0,c.useEffect)(()=>{n.current=null},t),(0,c.useEffect)(()=>{let r=e!==ee;r&&!n.current&&(n.current=e),!r&&n.current&&(n.current=null)},[e]),n.current?je(e,n.current):ee}function go(e){(0,c.useEffect)(()=>{if(!Ze)return;let t=e.map(n=>{let{sensor:r}=n;return r.setup==null?void 0:r.setup()});return()=>{for(let n of t)n?.()}},e.map(t=>{let{sensor:n}=t;return n}))}function ho(e,t){return(0,c.useMemo)(()=>e.reduce((n,r)=>{let{eventName:o,handler:i}=r;return n[o]=s=>{i(s,t)},n},{}),[e,t])}function Jn(e){return(0,c.useMemo)(()=>e?$r(e):null,[e])}var kn=[];function vo(e,t){t===void 0&&(t=Oe);let[n]=e,r=Jn(n?$(n):null),[o,i]=(0,c.useState)(kn);function s(){i(()=>e.length?e.map(l=>Wn(l)?r:new rt(t(l),l)):kn)}let a=Ct({callback:s});return G(()=>{a?.disconnect(),s(),e.forEach(l=>a?.observe(l))},[e]),o}function bo(e){if(!e)return null;if(e.children.length>1)return e;let t=e.children[0];return $e(t)?t:e}function mo(e){let{measure:t}=e,[n,r]=(0,c.useState)(null),o=(0,c.useCallback)(d=>{for(let{target:f}of d)if($e(f)){r(u=>{let h=t(f);return u?{...u,width:h.width,height:h.height}:h});break}},[t]),i=Ct({callback:o}),s=(0,c.useCallback)(d=>{let f=bo(d);i?.disconnect(),f&&i?.observe(f),r(f?t(f):null)},[t,i]),[a,l]=et(s);return(0,c.useMemo)(()=>({nodeRef:a,rect:n,setRef:l}),[n,a,l])}var yo=[{sensor:We,options:{}},{sensor:wt,options:{}}],wo={current:{}},mt={draggable:{measure:Rn},droppable:{measure:Rn,strategy:it.WhileDragging,frequency:Ut.Optimized},dragOverlay:{measure:Oe}},Te=class extends Map{get(t){var n;return t!=null&&(n=super.get(t))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(t=>{let{disabled:n}=t;return!n})}getNodeFor(t){var n,r;return(n=(r=this.get(t))==null?void 0:r.node.current)!=null?n:void 0}},xo={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new Te,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:yt},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:mt,measureDroppableContainers:yt,windowRect:null,measuringScheduled:!1},So={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:yt,draggableNodes:new Map,over:null,measureDroppableContainers:yt},Dt=(0,c.createContext)(So),Gn=(0,c.createContext)(xo);function Co(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new Te}}}function Do(e,t){switch(t.type){case L.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case L.DragMove:return e.draggable.active==null?e:{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}};case L.DragEnd:case L.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case L.RegisterDroppable:{let{element:n}=t,{id:r}=n,o=new Te(e.droppable.containers);return o.set(r,n),{...e,droppable:{...e.droppable,containers:o}}}case L.SetDroppableDisabled:{let{id:n,key:r,disabled:o}=t,i=e.droppable.containers.get(n);if(!i||r!==i.key)return e;let s=new Te(e.droppable.containers);return s.set(n,{...i,disabled:o}),{...e,droppable:{...e.droppable,containers:s}}}case L.UnregisterDroppable:{let{id:n,key:r}=t,o=e.droppable.containers.get(n);if(!o||r!==o.key)return e;let i=new Te(e.droppable.containers);return i.delete(n),{...e,droppable:{...e.droppable,containers:i}}}default:return e}}function Ro(e){let{disabled:t}=e,{active:n,activatorEvent:r,draggableNodes:o}=(0,c.useContext)(Dt),i=vt(r),s=vt(n?.id);return(0,c.useEffect)(()=>{if(!t&&!r&&i&&s!=null){if(!tt(i)||document.activeElement===i.target)return;let a=o.get(s);if(!a)return;let{activatorNode:l,node:d}=a;if(!l.current&&!d.current)return;requestAnimationFrame(()=>{for(let f of[l.current,d.current]){if(!f)continue;let u=wn(f);if(u){u.focus();break}}})}},[r,t,o,s,i]),null}function Eo(e,t){let{transform:n,...r}=t;return e!=null&&e.length?e.reduce((o,i)=>i({transform:o,...r}),n):n}function No(e){return(0,c.useMemo)(()=>({draggable:{...mt.draggable,...e?.draggable},droppable:{...mt.droppable,...e?.droppable},dragOverlay:{...mt.dragOverlay,...e?.dragOverlay}}),[e?.draggable,e?.droppable,e?.dragOverlay])}function Io(e){let{activeNode:t,measure:n,initialRect:r,config:o=!0}=e,i=(0,c.useRef)(!1),{x:s,y:a}=typeof o=="boolean"?{x:o,y:o}:o;G(()=>{if(!s&&!a||!t){i.current=!1;return}if(i.current||!r)return;let d=t?.node.current;if(!d||d.isConnected===!1)return;let f=n(d),u=$n(f,r);if(s||(u.x=0),a||(u.y=0),i.current=!0,Math.abs(u.x)>0||Math.abs(u.y)>0){let h=Un(d);h&&h.scrollBy({top:u.y,left:u.x})}},[t,s,a,r,n])}var _n=(0,c.createContext)({...ee,scaleX:1,scaleY:1}),xe;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"})(xe||(xe={}));var Qn=(0,c.memo)(function(t){var n,r,o,i;let{id:s,accessibility:a,autoScroll:l=!0,children:d,sensors:f=yo,collisionDetection:u=kr,measuring:h,modifiers:p,...R}=t,g=(0,c.useReducer)(Do,void 0,Co),[v,y]=g,[w,m]=Rr(),[D,b]=(0,c.useState)(xe.Uninitialized),E=D===xe.Initialized,{draggable:{active:S,nodes:x,translate:k},droppable:{containers:F}}=v,I=S!=null?x.get(S):null,Q=(0,c.useRef)({initial:null,translated:null}),Z=(0,c.useMemo)(()=>{var X;return S!=null?{id:S,data:(X=I?.data)!=null?X:wo,rect:Q}:null},[S,I]),ne=(0,c.useRef)(null),[He,st]=(0,c.useState)(null),[Y,at]=(0,c.useState)(null),le=Ue(R,Object.values(R)),Ke=Re("DndDescribedBy",s),lt=(0,c.useMemo)(()=>F.getEnabled(),[F]),U=No(h),{droppableRects:ce,measureDroppableContainers:Se,measuringScheduled:qe}=so(lt,{dragging:E,dependencies:[k.x,k.y],config:U.droppable}),V=oo(x,S),ct=(0,c.useMemo)(()=>Y?bt(Y):null,[Y]),pe=yr(),de=ao(V,U.draggable.measure);Io({activeNode:S!=null?x.get(S):null,config:pe.layoutShiftCompensation,initialRect:de,measure:U.draggable.measure});let N=Tn(V,U.draggable.measure,de),Ve=Tn(V?V.parentElement:null),re=(0,c.useRef)({activatorEvent:null,active:null,activeNode:V,collisionRect:null,collisions:null,droppableRects:ce,draggableNodes:x,draggingNode:null,draggingNodeRect:null,droppableContainers:F,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),ke=F.getNodeFor((n=re.current.over)==null?void 0:n.id),ue=mo({measure:U.dragOverlay.measure}),Le=(r=ue.nodeRef.current)!=null?r:V,Fe=E?(o=ue.rect)!=null?o:N:null,Kt=Boolean(ue.nodeRef.current&&ue.rect),qt=uo(Kt?null:N),At=Jn(Le?$(Le):null),ge=fo(E?ke??V:null),dt=vo(ge),ut=Eo(p,{transform:{x:k.x-qt.x,y:k.y-qt.y,scaleX:1,scaleY:1},activatorEvent:Y,active:Z,activeNodeRect:N,containerNodeRect:Ve,draggingNodeRect:Fe,over:re.current.over,overlayNodeRect:ue.rect,scrollableAncestors:ge,scrollableAncestorRects:dt,windowRect:At}),Vt=ct?Ee(ct,k):null,Jt=po(ge),fr=Mn(Jt),pr=Mn(Jt,[N]),Pe=Ee(ut,fr),ze=Fe?Pr(Fe,ut):null,Je=Z&&ze?u({active:Z,collisionRect:ze,droppableRects:ce,droppableContainers:lt,pointerCoordinates:Vt}):null,Gt=Bn(Je,"id"),[he,_t]=(0,c.useState)(null),gr=Kt?ut:Ee(ut,pr),hr=Lr(gr,(i=he?.rect)!=null?i:null,N),Tt=(0,c.useRef)(null),Qt=(0,c.useCallback)((X,j)=>{let{sensor:W,options:ve}=j;if(ne.current==null)return;let J=x.get(ne.current);if(!J)return;let H=X.nativeEvent,oe=new W({active:ne.current,activeNode:J,event:H,options:ve,context:re,onAbort(z){if(!x.get(z))return;let{onDragAbort:ie}=le.current,fe={id:z};ie?.(fe),w({type:"onDragAbort",event:fe})},onPending(z,be,ie,fe){if(!x.get(z))return;let{onDragPending:_e}=le.current,me={id:z,constraint:be,initialCoordinates:ie,offset:fe};_e?.(me),w({type:"onDragPending",event:me})},onStart(z){let be=ne.current;if(be==null)return;let ie=x.get(be);if(!ie)return;let{onDragStart:fe}=le.current,Ge={activatorEvent:H,active:{id:be,data:ie.data,rect:Q}};(0,Ie.unstable_batchedUpdates)(()=>{fe?.(Ge),b(xe.Initializing),y({type:L.DragStart,initialCoordinates:z,active:be}),w({type:"onDragStart",event:Ge}),st(Tt.current),at(H)})},onMove(z){y({type:L.DragMove,coordinates:z})},onEnd:Be(L.DragEnd),onCancel:Be(L.DragCancel)});Tt.current=oe;function Be(z){return async function(){let{active:ie,collisions:fe,over:Ge,scrollAdjustedTranslate:_e}=re.current,me=null;if(ie&&_e){let{cancelDrop:Qe}=le.current;me={activatorEvent:H,active:ie,collisions:fe,delta:_e,over:Ge},z===L.DragEnd&&typeof Qe=="function"&&await Promise.resolve(Qe(me))&&(z=L.DragCancel)}ne.current=null,(0,Ie.unstable_batchedUpdates)(()=>{y({type:z}),b(xe.Uninitialized),_t(null),st(null),at(null),Tt.current=null;let Qe=z===L.DragEnd?"onDragEnd":"onDragCancel";if(me){let Ot=le.current[Qe];Ot?.(me),w({type:Qe,event:me})}})}}},[x]),vr=(0,c.useCallback)((X,j)=>(W,ve)=>{let J=W.nativeEvent,H=x.get(ve);if(ne.current!==null||!H||J.dndKit||J.defaultPrevented)return;let oe={active:H};X(W,j.options,oe)===!0&&(J.dndKit={capturedBy:j.sensor},ne.current=ve,Qt(W,j))},[x,Qt]),Zt=io(f,vr);go(f),G(()=>{N&&D===xe.Initializing&&b(xe.Initialized)},[N,D]),(0,c.useEffect)(()=>{let{onDragMove:X}=le.current,{active:j,activatorEvent:W,collisions:ve,over:J}=re.current;if(!j||!W)return;let H={active:j,activatorEvent:W,collisions:ve,delta:{x:Pe.x,y:Pe.y},over:J};(0,Ie.unstable_batchedUpdates)(()=>{X?.(H),w({type:"onDragMove",event:H})})},[Pe.x,Pe.y]),(0,c.useEffect)(()=>{let{active:X,activatorEvent:j,collisions:W,droppableContainers:ve,scrollAdjustedTranslate:J}=re.current;if(!X||ne.current==null||!j||!J)return;let{onDragOver:H}=le.current,oe=ve.get(Gt),Be=oe&&oe.rect.current?{id:oe.id,rect:oe.rect.current,data:oe.data,disabled:oe.disabled}:null,z={active:X,activatorEvent:j,collisions:W,delta:{x:J.x,y:J.y},over:Be};(0,Ie.unstable_batchedUpdates)(()=>{_t(Be),H?.(z),w({type:"onDragOver",event:z})})},[Gt]),G(()=>{re.current={activatorEvent:Y,active:Z,activeNode:V,collisionRect:ze,collisions:Je,droppableRects:ce,draggableNodes:x,draggingNode:Le,draggingNodeRect:Fe,droppableContainers:F,over:he,scrollableAncestors:ge,scrollAdjustedTranslate:Pe},Q.current={initial:Fe,translated:ze}},[Z,V,Je,ze,x,Le,Fe,ce,F,he,ge,Pe]),to({...pe,delta:k,draggingRect:ze,pointerCoordinates:Vt,scrollableAncestors:ge,scrollableAncestorRects:dt});let br=(0,c.useMemo)(()=>({active:Z,activeNode:V,activeNodeRect:N,activatorEvent:Y,collisions:Je,containerNodeRect:Ve,dragOverlay:ue,draggableNodes:x,droppableContainers:F,droppableRects:ce,over:he,measureDroppableContainers:Se,scrollableAncestors:ge,scrollableAncestorRects:dt,measuringConfiguration:U,measuringScheduled:qe,windowRect:At}),[Z,V,N,Y,Je,Ve,ue,x,F,ce,he,Se,ge,dt,U,qe,At]),mr=(0,c.useMemo)(()=>({activatorEvent:Y,activators:Zt,active:Z,activeNodeRect:N,ariaDescribedById:{draggable:Ke},dispatch:y,draggableNodes:x,over:he,measureDroppableContainers:Se}),[Y,Zt,Z,N,y,Ke,x,he,Se]);return c.default.createElement(Fn.Provider,{value:m},c.default.createElement(Dt.Provider,{value:mr},c.default.createElement(Gn.Provider,{value:br},c.default.createElement(_n.Provider,{value:hr},d)),c.default.createElement(Ro,{disabled:a?.restoreFocus===!1})),c.default.createElement(Ir,{...a,hiddenTextDescribedById:Ke}));function yr(){let X=He?.autoScrollEnabled===!1,j=typeof l=="object"?l.enabled===!1:l===!1,W=E&&!X&&!j;return typeof l=="object"?{...l,enabled:W}:{enabled:W}}}),Ao=(0,c.createContext)(null),Ln="button",To="Draggable";function Zn(e){let{id:t,data:n,disabled:r=!1,attributes:o}=e,i=Re(To),{activators:s,activatorEvent:a,active:l,activeNodeRect:d,ariaDescribedById:f,draggableNodes:u,over:h}=(0,c.useContext)(Dt),{role:p=Ln,roleDescription:R="draggable",tabIndex:g=0}=o??{},v=l?.id===t,y=(0,c.useContext)(v?_n:Ao),[w,m]=et(),[D,b]=et(),E=ho(s,t),S=Ue(n);G(()=>(u.set(t,{id:t,key:i,node:w,activatorNode:D,data:S}),()=>{let k=u.get(t);k&&k.key===i&&u.delete(t)}),[u,t]);let x=(0,c.useMemo)(()=>({role:p,tabIndex:g,"aria-disabled":r,"aria-pressed":v&&p===Ln?!0:void 0,"aria-roledescription":R,"aria-describedby":f.draggable}),[r,p,g,v,R,f.draggable]);return{active:l,activatorEvent:a,activeNodeRect:d,attributes:x,isDragging:v,listeners:r?void 0:E,node:w,over:h,setNodeRef:m,setActivatorNodeRef:b,transform:y}}function er(){return(0,c.useContext)(Gn)}var Oo="Droppable",Mo={timeout:25};function tr(e){let{data:t,disabled:n=!1,id:r,resizeObserverConfig:o}=e,i=Re(Oo),{active:s,dispatch:a,over:l,measureDroppableContainers:d}=(0,c.useContext)(Dt),f=(0,c.useRef)({disabled:n}),u=(0,c.useRef)(!1),h=(0,c.useRef)(null),p=(0,c.useRef)(null),{disabled:R,updateMeasurementsFor:g,timeout:v}={...Mo,...o},y=Ue(g??r),w=(0,c.useCallback)(()=>{if(!u.current){u.current=!0;return}p.current!=null&&clearTimeout(p.current),p.current=setTimeout(()=>{d(Array.isArray(y.current)?y.current:[y.current]),p.current=null},v)},[v]),m=Ct({callback:w,disabled:R||!s}),D=(0,c.useCallback)((x,k)=>{m&&(k&&(m.unobserve(k),u.current=!1),x&&m.observe(x))},[m]),[b,E]=et(D),S=Ue(t);return(0,c.useEffect)(()=>{!m||!b.current||(m.disconnect(),u.current=!1,m.observe(b.current))},[b,m]),(0,c.useEffect)(()=>(a({type:L.RegisterDroppable,element:{id:r,key:i,disabled:n,node:b,rect:h,data:S}}),()=>a({type:L.UnregisterDroppable,key:i,id:r})),[r]),(0,c.useEffect)(()=>{n!==f.current.disabled&&(a({type:L.SetDroppableDisabled,id:r,key:i,disabled:n}),f.current.disabled=n)},[r,i,n,a]),{active:s,rect:h,isOver:l?.id===r,node:b,over:l,setNodeRef:E}}var O=B(Xe());function Nt(e,t,n){let r=e.slice();return r.splice(n<0?r.length+n:n,0,r.splice(t,1)[0]),r}function ko(e,t){return e.reduce((n,r,o)=>{let i=t.get(r);return i&&(n[o]=i),n},Array(e.length))}function Rt(e){return e!==null&&e>=0}function Lo(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function Fo(e){return typeof e=="boolean"?{draggable:e,droppable:e}:e}var nr=e=>{let{rects:t,activeIndex:n,overIndex:r,index:o}=e,i=Nt(t,r,n),s=t[o],a=i[o];return!a||!s?null:{x:a.left-s.left,y:a.top-s.top,scaleX:a.width/s.width,scaleY:a.height/s.height}};var Et={scaleX:1,scaleY:1},rr=e=>{var t;let{activeIndex:n,activeNodeRect:r,index:o,rects:i,overIndex:s}=e,a=(t=i[n])!=null?t:r;if(!a)return null;if(o===n){let d=i[s];return d?{x:0,y:n<s?d.top+d.height-(a.top+a.height):d.top-a.top,...Et}:null}let l=Po(i,o,n);return o>n&&o<=s?{x:0,y:-a.height-l,...Et}:o<n&&o>=s?{x:0,y:a.height+l,...Et}:{x:0,y:0,...Et}};function Po(e,t,n){let r=e[t],o=e[t-1],i=e[t+1];return r?n<t?o?r.top-(o.top+o.height):i?i.top-(r.top+r.height):0:i?i.top-(r.top+r.height):o?r.top-(o.top+o.height):0:0}var or="Sortable",ir=O.default.createContext({activeIndex:-1,containerId:or,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:nr,disabled:{draggable:!1,droppable:!1}});function sr(e){let{children:t,id:n,items:r,strategy:o=nr,disabled:i=!1}=e,{active:s,dragOverlay:a,droppableRects:l,over:d,measureDroppableContainers:f}=er(),u=Re(or,n),h=Boolean(a.rect!==null),p=(0,O.useMemo)(()=>r.map(E=>typeof E=="object"&&"id"in E?E.id:E),[r]),R=s!=null,g=s?p.indexOf(s.id):-1,v=d?p.indexOf(d.id):-1,y=(0,O.useRef)(p),w=!Lo(p,y.current),m=v!==-1&&g===-1||w,D=Fo(i);G(()=>{w&&R&&f(p)},[w,p,R,f]),(0,O.useEffect)(()=>{y.current=p},[p]);let b=(0,O.useMemo)(()=>({activeIndex:g,containerId:u,disabled:D,disableTransforms:m,items:p,overIndex:v,useDragOverlay:h,sortedRects:ko(p,l),strategy:o}),[g,u,D.draggable,D.droppable,m,p,v,l,h,o]);return O.default.createElement(ir.Provider,{value:b},t)}var zo=e=>{let{id:t,items:n,activeIndex:r,overIndex:o}=e;return Nt(n,r,o).indexOf(t)},Bo=e=>{let{containerId:t,isSorting:n,wasDragging:r,index:o,items:i,newIndex:s,previousItems:a,previousContainerId:l,transition:d}=e;return!d||!r||a!==i&&o===s?!1:n?!0:s!==o&&t===l},Xo={duration:200,easing:"ease"},ar="transform",$o=we.Transition.toString({property:ar,duration:0,easing:"linear"}),Uo={roleDescription:"sortable"};function Yo(e){let{disabled:t,index:n,node:r,rect:o}=e,[i,s]=(0,O.useState)(null),a=(0,O.useRef)(n);return G(()=>{if(!t&&n!==a.current&&r.current){let l=o.current;if(l){let d=Oe(r.current,{ignoreTransform:!0}),f={x:l.left-d.left,y:l.top-d.top,scaleX:l.width/d.width,scaleY:l.height/d.height};(f.x||f.y)&&s(f)}}n!==a.current&&(a.current=n)},[t,n,r,o]),(0,O.useEffect)(()=>{i&&s(null)},[i]),i}function lr(e){let{animateLayoutChanges:t=Bo,attributes:n,disabled:r,data:o,getNewIndex:i=zo,id:s,strategy:a,resizeObserverConfig:l,transition:d=Xo}=e,{items:f,containerId:u,activeIndex:h,disabled:p,disableTransforms:R,sortedRects:g,overIndex:v,useDragOverlay:y,strategy:w}=(0,O.useContext)(ir),m=jo(r,p),D=f.indexOf(s),b=(0,O.useMemo)(()=>({sortable:{containerId:u,index:D,items:f},...o}),[u,o,D,f]),E=(0,O.useMemo)(()=>f.slice(f.indexOf(s)),[f,s]),{rect:S,node:x,isOver:k,setNodeRef:F}=tr({id:s,data:b,disabled:m.droppable,resizeObserverConfig:{updateMeasurementsFor:E,...l}}),{active:I,activatorEvent:Q,activeNodeRect:Z,attributes:ne,setNodeRef:He,listeners:st,isDragging:Y,over:at,setActivatorNodeRef:le,transform:Ke}=Zn({id:s,data:b,attributes:{...Uo,...n},disabled:m.draggable}),lt=bn(F,He),U=Boolean(I),ce=U&&!R&&Rt(h)&&Rt(v),Se=!y&&Y,qe=Se&&ce?Ke:null,ct=ce?qe??(a??w)({rects:g,activeNodeRect:Z,activeIndex:h,overIndex:v,index:D}):null,pe=Rt(h)&&Rt(v)?i({id:s,items:f,activeIndex:h,overIndex:v}):D,de=I?.id,N=(0,O.useRef)({activeId:de,items:f,newIndex:pe,containerId:u}),Ve=f!==N.current.items,re=t({active:I,containerId:u,isDragging:Y,isSorting:U,id:s,index:D,items:f,newIndex:N.current.newIndex,previousItems:N.current.items,previousContainerId:N.current.containerId,transition:d,wasDragging:N.current.activeId!=null}),ke=Yo({disabled:!re,index:D,node:x,rect:S});return(0,O.useEffect)(()=>{U&&N.current.newIndex!==pe&&(N.current.newIndex=pe),u!==N.current.containerId&&(N.current.containerId=u),f!==N.current.items&&(N.current.items=f)},[U,pe,u,f]),(0,O.useEffect)(()=>{if(de===N.current.activeId)return;if(de!=null&&N.current.activeId==null){N.current.activeId=de;return}let Le=setTimeout(()=>{N.current.activeId=de},50);return()=>clearTimeout(Le)},[de]),{active:I,activeIndex:h,attributes:ne,data:b,rect:S,index:D,newIndex:pe,items:f,isOver:k,isSorting:U,isDragging:Y,listeners:st,node:x,overIndex:v,over:at,setNodeRef:lt,setActivatorNodeRef:le,setDroppableNodeRef:F,setDraggableNodeRef:He,transform:ke??ct,transition:ue()};function ue(){if(ke||Ve&&N.current.newIndex===D)return $o;if(!(Se&&!tt(Q)||!d)&&(U||re))return we.Transition.toString({...d,property:ar})}}function jo(e,t){var n,r;return typeof e=="boolean"?{draggable:e,droppable:!1}:{draggable:(n=e?.draggable)!=null?n:t.draggable,droppable:(r=e?.droppable)!=null?r:t.droppable}}var Qo=[C.Down,C.Right,C.Up,C.Left];var q=B(se(),1);function Yt({field:e}){let t=ae(),n=K(u=>u.formBuilder.selectedFieldId),r=K(u=>u.formBuilder.isPreviewMode),{attributes:o,listeners:i,setNodeRef:s,transform:a,transition:l}=lr({id:e.id}),d={transform:we.Transform.toString(a),transition:l},f=()=>{t(ft(e.id))};return r?(0,q.jsxs)("div",{className:"p-4 border rounded mb-2 bg-gray-50",children:[(0,q.jsx)("label",{className:"block font-medium mb-1",children:e.label||"Untitled Field"}),e.type==="Text"&&(0,q.jsx)("input",{type:"Text",placeholder:e.placeholder||"",className:"w-full border px-2 py-1 rounded"}),e.type==="Email"&&(0,q.jsx)("input",{type:"Email",placeholder:e.placeholder||"",className:"w-full border px-2 py-1 rounded"}),e.type==="Number"&&(0,q.jsx)("input",{type:"Number",placeholder:e.placeholder||"",className:"w-full border px-2 py-1 rounded"}),e.type==="checkbox"&&(0,q.jsx)("input",{type:"checkbox"})]}):(0,q.jsxs)("div",{ref:s,style:d,onClick:f,onKeyDown:u=>{(u.key==="Enter"||u.key===" ")&&f()},role:"button",tabIndex:0,className:`p-4 border rounded mb-2 shadow cursor-pointer 
      ${n===e.id?"bg-blue-100 border-blue-500":"bg-white"}`,children:[(0,q.jsx)("div",{...o,...i,className:"flex justify-between items-center",children:(0,q.jsx)("div",{className:"font-medium",children:e.label||"Untitled Field"})}),(0,q.jsx)("div",{children:(0,q.jsx)("small",{className:"text-gray-500",children:e.type})})]})}var cr=B(Xe(),1);var Me=B(se(),1);function jt(){let e=ae(),{fields:t,steps:n,currentStepIndex:r}=K(l=>l.formBuilder),o=n[r],i=t.filter(l=>o?.fieldIds.includes(l.id)),s=zn(Pn(We)),a=l=>{let{active:d,over:f}=l;if(!f||d.id===f.id)return;let u=n[r],h=u.fieldIds.findIndex(b=>b===d.id),p=u.fieldIds.findIndex(b=>b===f.id);if(h===-1||p===-1)return;let R=Nt(u.fieldIds,h,p),g=[...n];g[r]={...u,fieldIds:R};let v=[...t],y=new Map(t.map(b=>[b.id,b])),w=R.map(b=>y.get(b)),D=[...v.filter(b=>!u.fieldIds.includes(b.id)),...w];e(cn(D)),e(gn(g))};return(0,cr.useEffect)(()=>{tn(t,n,r)},[t,n,r]),(0,Me.jsx)(Me.Fragment,{children:(0,Me.jsx)(Qn,{sensors:s,collisionDetection:Xn,onDragEnd:a,children:(0,Me.jsx)(sr,{items:i.map(l=>l.id),strategy:rr,children:i.map(l=>(0,Me.jsx)(Yt,{field:l},l.id))})})})}var It=B(Xe(),1);var M=B(se(),1);function Wt(){let e=ae(),t=(0,It.useRef)(null),n=K(s=>s.formBuilder.selectedFieldId),r=K(s=>s.formBuilder.fields.find(a=>a.id===n));if((0,It.useEffect)(()=>{t.current&&t.current.focus()},[r?.id]),!r)return null;let o=s=>{let a=s.target,{name:l,value:d,type:f}=a,u=f==="checkbox"?a.checked:d;e(rn({id:r.id,updated:{[l]:u}}))},i=()=>{e(on(r.id)),e(ft(null)),ye("Field deleted!",{icon:(0,M.jsx)("span",{style:{fontSize:"22px",fontWeight:"bold"},children:"\u{1F5D1}\uFE0F"})})};return(0,M.jsxs)("div",{className:"max-h-[80vh] overflow-y-auto p-4 bg-gray-200 rounded",children:[(0,M.jsx)("h2",{className:"text-lg font-bold mb-4",children:"Field Settings"}),(0,M.jsxs)("label",{className:"block mb-2",children:[(0,M.jsx)("span",{className:"text-sm font-medium",children:"Label"}),(0,M.jsx)("input",{ref:t,type:"Text",name:"label",value:r.label,onChange:o,className:"w-full border p-2 rounded"})]}),(0,M.jsxs)("label",{className:"block mb-2",children:[(0,M.jsx)("span",{className:"text-sm font-medium",children:"Type"}),(0,M.jsxs)("select",{name:"type",value:r.type,onChange:o,className:"w-full border p-2 rounded",children:[(0,M.jsx)("option",{value:"Text",children:"Text"}),(0,M.jsx)("option",{value:"Email",children:"Email"}),(0,M.jsx)("option",{value:"Number",children:"Number"})]})]}),(0,M.jsxs)("label",{className:"block mb-2",children:[(0,M.jsx)("span",{className:"text-sm font-medium",children:"Placeholder"}),(0,M.jsx)("input",{type:"Text",name:"placeholder",value:r.placeholder||"",onChange:o,className:"w-full border p-2 rounded"})]}),(0,M.jsxs)("label",{className:"block",children:[(0,M.jsx)("input",{type:"checkbox",name:"required",checked:r.required,onChange:o}),(0,M.jsx)("span",{className:"ml-2 text-sm",children:"Required"})]}),(0,M.jsx)("button",{onClick:i,className:"mt-4 text-sm text-red-600 hover:underline",children:"Delete Field"})]})}var dr=[{id:"name-field",type:"Text",label:"Full Name",required:!0},{id:"email-field",type:"Email",label:"Email Address",required:!0},{id:"Phone-field",type:"Number",label:"Phone Number",required:!1},{id:"message-field",type:"Text",label:"Your Message",required:!0}];var te=B(se(),1);function Ht(){let e=ae(),{steps:t,currentStepIndex:n}=K(i=>i.formBuilder),r=i=>{e(dn(i))},o=()=>{e(un())};return(0,te.jsxs)(te.Fragment,{children:[(0,te.jsxs)("div",{className:"flex items-center gap-2 mb-4 flex-wrap",children:[t.map((i,s)=>(0,te.jsx)("button",{onClick:()=>r(s),className:`px-4 py-2 rounded border ${s===n?"bg-blue-600 text-white":"bg-white text-gray-700 hover:bg-gray-100"}`,children:i.title},i.id)),(0,te.jsx)("button",{onClick:o,className:"px-4 py-2 bg-green-500 text-white rounded hover:bg-green-600",children:"+ Add Step"})]}),(0,te.jsxs)("div",{className:"flex space-x-4 mt-4",children:[(0,te.jsx)("button",{onClick:()=>e(pn()),className:"bg-gray-300 hover:bg-gray-400 text-black px-4 py-2 rounded disabled:opacity-50",disabled:n===0,children:"Previous"}),(0,te.jsx)("button",{onClick:()=>e(fn()),className:"bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded disabled:opacity-50",disabled:n===t.length-1,children:"Next"})]})]})}var A=B(se(),1);function ur(){let e=ae(),t=()=>{e(nn({id:en(),type:"Text",label:"New Text Field",required:!1})),ye("Field Added!",{icon:(0,A.jsx)("span",{style:{fontSize:"22px",fontWeight:"bold"},children:"\u2705"})})},n=K(s=>s.formBuilder.isPreviewMode),r=K(s=>s.formBuilder.fields);return(0,A.jsxs)("div",{className:"bg-white text-black dark:bg-gray-900  p-4",children:[(0,A.jsx)("h1",{className:"text-2xl font-bold mb-4 dark:text-white",children:"Form Builder"}),(0,A.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,A.jsx)("button",{onClick:t,className:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600",children:"+ Add Text Field"}),(0,A.jsx)("button",{onClick:()=>{e(sn()),ye("All Fields Deleted",{icon:(0,A.jsx)("span",{style:{fontSize:"22px",fontWeight:"bold"},children:"\u274C"})})},className:"bg-red-500 text-white px-4 py-2 rounded hover:bg-red-600 ml-2",children:"Clear All"}),(0,A.jsx)("button",{onClick:()=>{let s=JSON.stringify(r,null,2),a=new Blob([s],{type:"application/json"}),l=URL.createObjectURL(a),d=document.createElement("a");d.href=l,d.download="form-config.json",d.click(),URL.revokeObjectURL(l)},className:"bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700 ml-2",children:"Export JSON"}),(0,A.jsx)("button",{className:"ml-4 bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700",onClick:()=>{let s=window.prompt("Paste form JSON here:");if(s)try{let a=JSON.parse(s);if(!Array.isArray(a))throw new Error("Invalid format");e(ln(a)),ye("Form imported successfully!",{icon:(0,A.jsx)("span",{style:{fontSize:"22px",fontWeight:"bold"},children:"\u2705"})})}catch(a){console.log(a),ye("Invalid JSON. Please try again.",{icon:(0,A.jsx)("span",{style:{fontSize:"22px",fontWeight:"bold"},children:"\u274C"})})}},children:"Import JSON"}),(0,A.jsx)("button",{className:"ml-4 bg-orange-600 text-white px-4 py-2 rounded hover:bg-orange-700",onClick:()=>{e(hn(dr)),ye("ContactUs Template Loaded",{icon:(0,A.jsx)("span",{style:{fontSize:"22px",fontWeight:"bold"},children:"\u{1F4C4}"})})},children:"ContactUs Template"})]}),(0,A.jsx)("button",{onClick:()=>e(an()),className:"mt-4 mb-4 px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:n?"\u{1F527} Exit Preview":"\u{1F440} Preview Form"}),(0,A.jsxs)("div",{className:"flex flex-col md:flex-row gap-4 mt-2",children:[(0,A.jsx)("div",{className:"w-full md:w-2/3",children:(0,A.jsx)(Ht,{})}),(0,A.jsx)("div",{className:"w-full md:w-2/3",children:(0,A.jsx)(jt,{})}),(0,A.jsx)("div",{className:"w-full md:w-1/3",children:(0,A.jsx)(Wt,{})})]})]})}export{ur as default};
